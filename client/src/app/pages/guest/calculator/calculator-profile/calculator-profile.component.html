<ng-container>
	<!-- <div class="backdrop"
		[style.background-image]="'url(' + fs.profileBackground(user.background.icon) + ')'">
	</div> -->
	<div *ngIf="user?.steamId" class="container" [backdrop]="user.background.iconAnimated">
		<div class="header">
			<div class="header_user">
				<!-- <img class="header_user_avatar"
					src="https://avatars.steamstatic.com/acf67207768cdc5be5f09aca6a9f7830bf27d6f7_full.jpg"> -->

					<w-user-avatar [size]="96" [avatar]="user.avatar.iconAnimated" [frame]="user.avatarFrame.iconAnimated"></w-user-avatar>

				<div class="header_user_info">
					<div class="header_user_info_name">
						{{user.name}}
						 <w-steam-level [level]="user.level.value"></w-steam-level>
					</div>

					<div class="header_user_info_stats">
						<div class="header_user_info_stats_years">
							{{user.timeCreated | dateFormat: 'years'}} years on Steam
						</div>
					</div>
				</div>
			</div>

			<div class="header_stats">
				<div class="header_stats_row">
					<div class="header_stats_row_progress-bar">
						<w-progress-bar [height]="12" [fill]="user.playedGamesPercent">
							<ng-template w-progress-bar-title>
								<div class="header_stats_row_progress-bar_title">
									<div><span>{{user.playedGamesCount}}</span> out of <span>{{user.totalGamesCount}}</span> games played</div>
									<div>{{user.playedGamesPercent}}%</div>
								</div>
							</ng-template>
						</w-progress-bar>
					</div>

					<div class="header_stats_row_progress-bar">
						<w-progress-bar [height]="12" [value]="user.level.currentXP" [maxValue]="user.level.nextLevelXP">
							<ng-template w-progress-bar-title>
								<div class="header_stats_row_progress-bar_title">
									<div><span>{{user.level.currentXP}}</span> / <span>{{user.level.nextLevelXP}}</span> XP to next level</div>
									<div>{{user.level.totalXP}} XP</div>
								</div>
							</ng-template>
						</w-progress-bar>
					</div>
				</div>
			</div>

			<div class="header_calculation">
				<div class="header_calculation_item">
					<div class="header_calculation_item_title">
						Average price
						<img src="/assets/icons/info.png" alt="">
					</div>

					<div class="header_calculation_item_value">
						{{user.averageGamesPrice}}
					</div>

					<div class="header_calculation_item_description">
						Average price calculation only includes products that have a price
					</div>
				</div>

				<div class="header_calculation_item">
					<div class="header_calculation_item_title">
						Average price per hour
						<img src="/assets/icons/info.png" alt="">
					</div>

					<div class="header_calculation_item_value">
						{{user.pricePerHour}}
					</div>

					<div class="header_calculation_item_description">
						This is the average price calculated from all services.
					</div>
				</div>

				<div class="header_calculation_item">
					<div class="header_calculation_item_title">
						Hours on record
					</div>

					<div class="header_calculation_item_value">
						{{user.totalPlaytime | timeFormat: 'h'}}
					</div>
				</div>

				<div class="header_calculation_item">
					<div class="header_calculation_item_title">
						Average playtime
					</div>

					<div class="header_calculation_item_value">
						{{user.averagePlaytime | timeFormat: 'h'}}
					</div>
				</div>

				<div class="header_calculation_item">
					<div class="header_calculation_item_title">
						Today`s price
						<img src="/assets/icons/info.png" alt="">
					</div>

					<div class="header_calculation_item_value">
						{{user.todayGamesPrice}}
					</div>

					<div class="header_calculation_item_description">
						This is the average price calculated from all services.
					</div>
				</div>

				<div class="header_calculation_item">
					<div class="header_calculation_item_title">
						Total price
						<img src="/assets/icons/info.png" alt="">
					</div>

					<div class="header_calculation_item_value">
						{{user.totalGamesPrice}}
					</div>

					<div class="header_calculation_item_description">
						This is the average price calculated from all services.
					</div>
				</div>
			</div>

			<div class="header_stats"></div>
		</div>

		<div class="stats">
			<div class="stats_item">
				<w-mini-table width="100%" title="Games by playtime" [items]="user.gamesByPlaytime"></w-mini-table>
			</div>

			<div class="stats_item">
				<w-mini-table width="100%" title="Games by cost" [items]="user.gamesByCost"></w-mini-table>
			</div>

			<div class="stats_item">
				<w-mini-table width="100%" title="Badges" [items]="user.badges"></w-mini-table>
			</div>

			<div class="stats_item">
				<w-mini-table width="100%" title="Profile Customizations"
					[items]="user.customization"></w-mini-table>

				<w-mini-table width="100%" title="Bans and restrictions" [items]="user.bans"></w-mini-table>
			</div>
		</div>
	</div>
</ng-container>